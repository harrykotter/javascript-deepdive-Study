# 24ì¥ í´ë¡œì €

week: 7ì£¼ì°¨
ìƒíƒœ: í‘¸ì‹œ ì™„ë£Œ

## ğŸ§ í´ë¡œì €, ê±”ê°€ ë­”ë° ê·¸ë˜

*review: ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ - JavaScriptì½”ë“œê°€ ì‹¤í–‰ë˜ê³  ì—°ì‚°ë˜ëŠ” ë²”ìœ„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¶”ìƒì ì¸ ê°œë…*

> *â€œA closure is the conbination of a function and the lexical environment within that function. was declaredâ€
í´ë¡œì €ëŠ” í•¨ìˆ˜ì™€ ê·¸ í•¨ìˆ˜ê°€ ì„ ì–¸ëœ ë ‰ì‹œì»¬ í™˜ê²½ê³¼ì˜ ì¡°í•©ì´ë‹¤

- MDN -*
> 

*review: ë ‰ì‹œì»¬ í™˜ê²½ - ì‹ë³„ìì™€ ì‹ë³„ìì— ë°”ì¸ë”©ëœ ê°’, ê·¸ë¦¬ê³  ìƒìœ„ ìŠ¤ì½”í”„ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ê¸°ë¡í•˜ëŠ” ìë£Œêµ¬ì¡°ë¡œ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ êµ¬ì„±í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ â†’ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ì˜ ì‹¤ì²´*

## ğŸ‘‰ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ - 13.5

 *review: ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ - í•¨ìˆ˜ê°€ ì •ì˜ëœ ìœ„ì¹˜ì•  ë”°ë¼ ìƒìœ„ ìŠ¤ì½”í”„ë¥¼ ì •í•˜ëŠ” ê²ƒ*

+ âº : â€œë ‰ì‹œì»¬ í™˜ê²½ì— ëŒ€í•œ ì°¸ì¡°â€ì— ì €ì¥í•  ì°¸ì¡°ê°’, ì¦‰ ìƒìœ„ ìŠ¤ì½”í”„ ì— ëŒ€í•œ ì°¸ì¡°ëŠ” ì •ì˜ê°€ í‰ê°€ë˜ëŠ” ì‹œì ì— í•¨ìˆ˜ê°€ ì •ì˜ëœ í™˜ê²½(ìœ„ì¹˜)ì— ì˜í•´ ê²°ì •ëœë‹¤.

## ğŸ‘‰ í•¨ìˆ˜ ê°ì²´ ë‚´ë¶€ ìŠ¬ë¡¯ `[[Environment]]`

í•¨ìˆ˜ëŠ” ì •ì˜ëœ í™˜ê²½ê³¼ í˜¸ì¶œë˜ëŠ” í™˜ê²½ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ. ì´ë•Œ í•¨ìˆ˜ëŠ” ì„ ì–¸ëœ í™˜ê²½ì— ì˜í–¥ì„ ë°›ê¸° ë•Œë¬¸ì— `[[Environment]]`ì— ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì°¸ì¡°ë¥¼ ì €ì¥í•œë‹¤. ì¦‰, ìƒìœ„ ìŠ¤ì½”í”„ë¥¼ ê¸°ì–µí•œë‹¤.

## ğŸ‘‰ í´ë¡œì €ì™€ ë ‰ì‹œì»¬ í™˜ê²½

ë‹¤ìŒì˜ ì™¸ë¶€ í•¨ìˆ˜ì™€ ì¤‘ì²© í•¨ìˆ˜ì˜ ê²½ìš°ë¥¼ ìƒê°í•´ë³´ì

```jsx
const x = 1;

// â‘ 
function outer() {
  const x = 10;
  const inner = function () { console.log(x); }; // â‘¡
  return inner;
}

// outer í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì¤‘ì²© í•¨ìˆ˜ innerë¥¼ ë°˜í™˜í•œë‹¤.
// ê·¸ë¦¬ê³  outer í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìŠ¤íƒì—ì„œ íŒë˜ì–´ ì œê±°ëœë‹¤.
const innerFunc = outer(); // â‘¢
innerFunc(); // â‘£ 10
```

`outer` í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œ ë’¤ `innerFunc`ì— `inner`ë¥¼ ë°˜í™˜í•˜ê³  ì œ ì—­í• ì„ ë§ˆì¹œë‹¤. *outerì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìŠ¤íƒì—ì„œ ì œê±°*

í•˜ì§€ë§Œ innerFunc ì‹¤í–‰ ì‹œ x = 1ì´ ì•„ë‹Œ x = 10 ê°’ì„ ë„ì¶œí•œë‹¤. *ì™œ?*

ì´ì²˜ëŸ¼ ì™¸ë¶€ í•¨ìˆ˜ë³´ë‹¤ ì¤‘ì²© í•¨ìˆ˜ê°€ ë” ì˜¤ë˜ ìœ ì§€ë˜ì–´, ì´ë¯¸ ìƒëª… ì£¼ê¸°ê°€ ëë‚œ ì™¸ë¶€ í•¨ìˆ˜ ìŠ¤ì½”í”„ë¥¼ ì°¸ì¡°í•˜ëŠ” ì¤‘ì²© í•¨ìˆ˜ë¥¼ **í´ë¡œì €(closure)**ë¼ê³  í•œë‹¤.

## ğŸ‘‰ í´ë¡œì €ì˜ í™œìš©

**í´ë¡œì €ëŠ” ìƒíƒœ(state)ë¥¼ ì•ˆì „í•˜ê²Œ ë³€ê²½í•˜ê³  ìœ ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.**

```jsx
// ì¹´ìš´íŠ¸ ìƒíƒœ ë³€ìˆ˜
let num = 0;

// ì¹´ìš´íŠ¸ ìƒíƒœ ë³€ê²½ í•¨ìˆ˜
const increase = function () {
  // ì¹´ìš´íŠ¸ ìƒíƒœë¥¼ 1ë§Œí¼ ì¦ê°€ ì‹œí‚¨ë‹¤.
  return ++num;
};

console.log(increase()); // 1
console.log(increase()); // 2
console.log(increase()); // 3
```

ì´ë•Œ numì€ ìˆ˜ì •ì˜ ìœ„í—˜ì„±ì— ë…¸ì¶œë˜ì–´ìˆê³ , í•¨ìˆ˜ ë‚´ì—ì„œ ì •ì˜í•˜ë”ë¼ë„ ì™¸ë¶€ì—ì„œ ì°¸ì¡°í•˜ê¸° ì–´ë µë‹¤.

ì—¬ê¸°ì„œ í´ë¡œì €ë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ë³´ê´€í•˜ê³ , í•¨ìˆ˜ë¥¼ ì •ì‚­ì ìœ¼ë¡œ ì‹œí–‰í•  ìˆ˜ ìˆë‹¤.

```jsx
// ì¹´ìš´íŠ¸ ìƒíƒœ ë³€ê²½ í•¨ìˆ˜
const increase = (function () {
  // ì¹´ìš´íŠ¸ ìƒíƒœ ë³€ìˆ˜
  let num = 0;

  // í´ë¡œì €
  return function () {
    // ì¹´ìš´íŠ¸ ìƒíƒœë¥¼ 1ë§Œí¼ ì¦ê°€ ì‹œí‚¨ë‹¤.
    return ++num;
  };
}());

console.log(increase()); // 1
console.log(increase()); // 2
console.log(increase()); // 3
```

## ìº¡ìŠí™”ì™€ ì •ë³´ ì€ë‹‰

> **ìº¡ìŠí™” (encapsulation)**
ê°ì²´ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”„ë¡œí¼í‹°ì™€ í”„ë¡œí¼í‹°ë¥¼ ì°¸ì¡°í•˜ê³  ì¡°ì‘í•˜ëŠ” ë™ì‘ì¸ ë©”ì„œë“œë¥¼ í•˜ë‚˜ë¡œ ë¬¶ëŠ” ê²ƒ

**ì •ë³´ ì€ë‹‰ (information hiding)**
ìº¡ìŠí™”ë¥¼ í†µí•´ ê°ì²´ì˜ íŠ¹ì • í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ê°ì¶œ ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒ
> 

## ìì£¼ ë°œìƒí•˜ëŠ” ì‹¤ìˆ˜

```jsx
var funcs = [];

for (var i = 0; i < 3; i++) {
  funcs[i] = function () { return i; }; // â‘ 
}

for (var j = 0; j < funcs.length; j++) {
  console.log(funcs[j]()); // â‘¡
}
```

`0, 1, 2`ì˜ ì¶œë ¥ì„ ê¸°ëŒ€í•œ ê²ƒê³¼ ë‹¬ë¦¬ `3, 3, 3`ì´ ì¶œë ¥

ì´ìœ ëŠ” `i`ê°€ ì „ì—­ ë³€ìˆ˜ì´ê¸° ë•Œë¬¸! *- varëŠ” ë¸”ë¡ ë ˆë²¨ ìŠ¤ì½”í”„ë¥¼ ì•ˆì§€ë‹˜!*

ğŸ™‹â€â™€ï¸ ì°¸ê³  ì‚¬í•­(ì§ˆë¬¸ í˜•íƒœ)